# fighter + multirole
DH_fighter_multirole_strategy = {
	enable = {
		has_country_flag = DH_fighter_multirole_production_flag
	}
	abort_when_not_enabled = yes

	ai_strategy = { type = equipment_variant_production_factor id = fighter_equipment            value = 160 }
	ai_strategy = { type = equipment_variant_production_factor id = interceptor_equipment  value = 160 }

	ai_strategy = { type = unit_ratio id = fighter												 value = 300 }
	ai_strategy = { type = equipment_production_factor id = fighter								 value = 25 }
	ai_strategy = { type = equipment_production_min_factories  id = fighter         		 	 value = 1 }
}

# fighter priority
DH_fighter_strategy = {
	enable = {
		has_country_flag = DH_fighter_production_flag
	}
	abort_when_not_enabled = yes

	ai_strategy = { type = equipment_variant_production_factor id = fighter_equipment            value = 200 }
	ai_strategy = { type = equipment_variant_production_factor id = interceptor_equipment  value = 120 }

	ai_strategy = { type = unit_ratio id = fighter												 value = 300 }
	ai_strategy = { type = equipment_production_factor id = fighter								 value = 25 }
	ai_strategy = { type = equipment_production_min_factories  id = fighter         		 	 value = 1 }
}

# multirole priority
DH_multirole_strategy = {
	enable = {
		has_country_flag = DH_multirole_production_flag
	}
	abort_when_not_enabled = yes

	ai_strategy = { type = equipment_variant_production_factor id = fighter_equipment            value = 120 }
	ai_strategy = { type = equipment_variant_production_factor id = interceptor_equipment  value = 200 }

	ai_strategy = { type = unit_ratio id = fighter												 value = 300 }
	ai_strategy = { type = equipment_production_factor id = fighter							 	 value = 25 }
	ai_strategy = { type = equipment_production_min_factories  id = fighter         		 	 value = 1 }
}

################ special case USA
DH_usa_jet_production_strategy = {
	enable = {
		has_country_flag = DH_usa_jet_production_flag
	}
	abort_when_not_enabled = yes

	ai_strategy = { type = equipment_variant_production_factor id = interceptor_equipment  value = 160 }

	ai_strategy = { type = unit_ratio id = fighter												 value = 300 }
	ai_strategy = { type = equipment_production_factor id = fighter					 			 value = 25 }
	ai_strategy = { type = equipment_production_min_factories  id = fighter         		 	 value = 1 }
}

# close air support
DH_cas_strategy = {
	enable = {
		has_country_flag = DH_cas_production_flag
	}
	abort_when_not_enabled = yes

	ai_strategy = { type = equipment_variant_production_factor id = Attacker_equipment                value = 125 }

	ai_strategy = { type = unit_ratio id = cas												 	 value = 80 }
	ai_strategy = { type = equipment_production_factor id = cas					 				 value = 100 }
	ai_strategy = { type = equipment_production_min_factories  id = cas		         		 	 value = 1 }
}

# heavy fighter
DH_heavy_fighter_strategy = {
	enable = {
		has_country_flag = DH_heavy_fighter_production_flag
	}
	abort_when_not_enabled = yes

	ai_strategy = { type = equipment_variant_production_factor id = heavy_fighter_equipment      value = 15 }

	ai_strategy = { type = unit_ratio id = heavy_fighter										 value = 2 }
	ai_strategy = { type = equipment_production_factor id = heavy_fighter						 value = 10 }
	ai_strategy = { type = equipment_production_min_factories  id = heavy_fighter         		 value = 1 }
}

# tactical/stike bomber
DH_tactical_bomber_strategy = {
	enable = {
		has_country_flag = DH_tactical_bomber_production_flag
	}
	abort_when_not_enabled = yes

	ai_strategy = { type = equipment_variant_production_factor id = tac_bomber_equipment         value = 125 }

	ai_strategy = { type = unit_ratio id = tactical_bomber										 value = 80 }
	ai_strategy = { type = equipment_production_factor id = tactical_bomber						 value = 100 }
	ai_strategy = { type = equipment_production_min_factories  id = tactical_bomber         	 value = 1 }
}

# strategic bomber
DH_strategic_bomber_strategy = {
	enable = {
		has_country_flag = DH_strategic_bomber_production_flag
	}
	abort_when_not_enabled = yes

	ai_strategy = { type = equipment_variant_production_factor id = strat_bomber_equipment       value = 125 }

	ai_strategy = { type = unit_ratio id = strategic_bomber										 value = 100 }
	ai_strategy = { type = equipment_production_factor id = strategic_bomber					 value = 100 }
	ai_strategy = { type = equipment_production_min_factories  id = strategic_bomber         	 value = 1 }
}

# transport
DH_TRNS_aircraft_production_strategy = {
	enable = {
		has_country_flag = DH_transport_production_flag
	}
	abort_when_not_enabled = yes

	ai_strategy = { type = equipment_variant_production_factor id = transport_plane_equipment    value = 1 }
}

# naval bomber
DH_naval_bomber_strategy = {
	enable = {
		has_country_flag = DH_naval_bomber_production_flag
	}
	abort_when_not_enabled = yes

	ai_strategy = { type = equipment_variant_production_factor id = cv_nav_bomber_equipment      value = 120 }

	ai_strategy = { type = unit_ratio id = naval_bomber										 	 value = 10 }
	ai_strategy = { type = equipment_production_factor id = naval_bomber						 value = 100 }
	ai_strategy = { type = equipment_production_min_factories  id = naval_bomber         	 	 value = 3 }
}

# carrier fighter/naval bomber
DH_CV_aircraft_production_strategy = {
	enable = {
		has_country_flag = DH_cv_production_flag
	}
	abort_when_not_enabled = yes

	ai_strategy = { type = equipment_variant_production_factor id = cv_fighter_equipment         value = -50 }
}



############################################################## Air factory Balance

### GER

GER_air_industry_regular = {
	allowed = {
		tag = GER
	}
	enable = {
		date > 1942.1.1
		has_war = yes
	}
	abort_when_not_enabled = yes

	ai_strategy = {
		type = added_military_to_civilian_factory_ratio
		value = 50
	}
	ai_strategy = {
		type = air_factory_balance
		value = 40
	}
	ai_strategy = { type = equipment_variant_production_factor id = Attacker_equipment      	 value = -400 }
	ai_strategy = { type = equipment_production_min_factories  id = fighter         		 	 value = 40 }
	ai_strategy = { type = equipment_production_min_factories  id = cas         		 	 	 value = 10 }
}

GER_air_industry_mellow = {
	allowed = {
		tag = GER
	}
	enable = {
		date > 1941.6.1
		date < 1942.1.1
		has_war = yes
	}
	abort = {
		date > 1942.1.1
	}

	ai_strategy = {
		type = added_military_to_civilian_factory_ratio
		value = 50
	}
	ai_strategy = {
		type = air_factory_balance
		value = 45
	}
}

GER_air_industry_rearmament = {
	allowed = {
		tag = GER
	}
	enable = {
		date < 1941.6.1
		has_tech = Fighter_1933
	}
	abort = {
		date > 1941.6.1
	}

	ai_strategy = {
		type = air_factory_balance
		value = 65
	}
}

### FRA

### ENG

ENG_industry_we_on_an_island_bruv = {
	allowed = {
		tag = ENG
	}
	enable = {
		has_government = democratic
		has_war = no
		date > 1937.10.1
		NOT = { is_in_faction_with = USA }
	}
	abort_when_not_enabled = yes

	ai_strategy = {
		type = added_military_to_civilian_factory_ratio
		value = -60
	}
	ai_strategy = {
		type = air_factory_balance
		value = 70
	}
}

ENG_growing_confidence_in_the_air = {
	allowed = {
		tag = ENG
	}
	enable = {
		has_war = yes
		date > 1937.10.1
		NOT = { is_in_faction_with = USA }
		is_in_faction_with = FRA
		FRA = { has_capitulated = no }
	}
	abort_when_not_enabled = yes

	ai_strategy = {
		type = air_factory_balance
		value = 120
	}
}

ENG_battle_of_britain = {
	allowed = {
		tag = ENG
	}
	enable = {
		has_war = yes
		date > 1937.10.1
		NOT = { is_in_faction_with = USA }
		is_in_faction_with = FRA
		FRA = { has_capitulated = yes }
	}
	abort_when_not_enabled = yes

	ai_strategy = {
		type = air_factory_balance
		value = 150
	}
}

ENG_coast_air = {
	allowed = {
		tag = ENG
	}
	enable = {
		has_war = yes
		date > 1937.10.1
		OR = {
			is_in_faction_with = USA
			NOT = { is_in_faction_with = FRA }
		}
	}
	abort_when_not_enabled = yes

	ai_strategy = {
		type = air_factory_balance
		value = 120
	}
}

ENG_highered_bomber_production = {
	allowed = {
		original_tag = ENG
	}
 	enable = {
		NOT = {
			has_country_flag = DH_bob_production_flag
		}
 		num_of_military_factories > 99
		date > 1942.1.1
		has_war = yes
 	}
	abort_when_not_enabled = yes

     ai_strategy = {
 		type = equipment_production_min_factories
 		id = strategic_bomber
 		value = 20
 	}
}
ENG_bomber_harris_on_vacation = {
	allowed = {
		original_tag = ENG
	}
	enable = {
		date < 1940.8.1
		OR = {
			NOT = { is_in_faction_with = FRA }
			AND = {
				is_in_faction_with = FRA
				FRA = { has_capitulated = no }
			}
		}
		surrender_progress < 0.04
	}
	abort_when_not_enabled = yes

	ai_strategy = {
		type = equipment_variant_production_factor
		id = strat_bomber_equipment
		value = -100
	}

	ai_strategy = {
		type = equipment_variant_production_factor
		id = tac_bomber_equipment
		value = -100
	}
}

### USA

USA_america_fuck_yea = {
	allowed = {
		original_tag = USA
	}
	enable = {
		num_of_military_factories > 199
	}
	abort = {
		num_of_military_factories < 200
	}

	ai_strategy = {
		type = air_factory_balance
		value = 80
	}

	ai_strategy = {
		type = equipment_production_min_factories
		id = motorized
		value = 20
	}

	ai_strategy = {
		type = equipment_variant_production_factor
		id = infantry_equipment
		value = -80
	}

	ai_strategy = {
		type = equipment_variant_production_factor
		id = support_equipment
		value = -60
	}
}

USA_carrier_planes_arnt_that_useful_1 = {
	allowed = {
		original_tag = USA
	}
	enable = {
		NOT = { has_tech = cv_Fighter_1940 }
	}
	abort_when_not_enabled = yes

	ai_strategy = {
		type = equipment_variant_production_factor
		id = cv_fighter_equipment
		value = -100
	}
}

USA_carrier_planes_arnt_that_useful_2 = {
	allowed = {
		original_tag = USA
	}
	enable = {
		has_tech = cv_Fighter_1940
	}
	abort_when_not_enabled = yes

	ai_strategy = {
		type = equipment_variant_production_factor
		id = cv_fighter_equipment
		value = -90
	}
}

USA_carrier_planes_arnt_that_useful_3 = {
	allowed = {
		original_tag = USA
	}
	enable = {
		NOT = { has_tech = Naval_Bomber_1936 }
	}
	abort_when_not_enabled = yes

	ai_strategy = {
		type = equipment_variant_production_factor
		id = cv_nav_bomber_equipment
		value = -90
	}
}

### COMMONWEALTH SPECIAL

ENG_allies_we_dont_want_your_planes = {
	allowed = {
		NOT = {
			tag = ENG
			tag = USA
			tag = FRA
			tag = AST
		}
	}
	enable = {
		is_in_faction_with = ENG
	}
	abort_when_not_enabled = yes

	ai_strategy = {
		type = equipment_variant_production_factor
		id = fighter_equipment
		value = -100
	}

	ai_strategy = {
		type = equipment_variant_production_factor
		id = Attacker_equipment
		value = -100
	}

	ai_strategy = {
		type = equipment_variant_production_factor
		id = nav_bomber_equipment
		value = -100
	}

	ai_strategy = {
		type = equipment_variant_production_factor
		id = tac_bomber_equipment
		value = -100
	}

	ai_strategy = {
		type = equipment_variant_production_factor
		id = strat_bomber_equipment
		value = -100
	}
}